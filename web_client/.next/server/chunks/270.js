"use strict";exports.id=270,exports.ids=[270],exports.modules={17270:(a,b,c)=>{c.r(b),c.d(b,{AbortError:()=>P,Blob:()=>Q.YQ,FetchError:()=>n,File:()=>Q.ZH,FormData:()=>l.fS,Headers:()=>B,Request:()=>O,Response:()=>F,blobFrom:()=>Q.k4,blobFromSync:()=>Q.F8,default:()=>S,fileFrom:()=>Q.NX,fileFromSync:()=>Q._M,isRedirect:()=>D});var d=c(37067),e=c(44708),f=c(38522),g=c(57075),h=c(4573),i=c(13123),j=c(57975),k=c(30814),l=c(97873);class m extends Error{constructor(a,b){super(a),Error.captureStackTrace(this,this.constructor),this.type=b}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class n extends m{constructor(a,b,c){super(a,b),c&&(this.code=this.errno=c.code,this.erroredSysCall=c.syscall)}}let o=Symbol.toStringTag,p=a=>"object"==typeof a&&"function"==typeof a.append&&"function"==typeof a.delete&&"function"==typeof a.get&&"function"==typeof a.getAll&&"function"==typeof a.has&&"function"==typeof a.set&&"function"==typeof a.sort&&"URLSearchParams"===a[o],q=a=>a&&"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&"function"==typeof a.constructor&&/^(Blob|File)$/.test(a[o]),r=(0,j.promisify)(g.pipeline),s=Symbol("Body internals");class t{constructor(a,{size:b=0}={}){let c=null;null===a?a=null:p(a)?a=h.Buffer.from(a.toString()):q(a)||h.Buffer.isBuffer(a)||(j.types.isAnyArrayBuffer(a)?a=h.Buffer.from(a):ArrayBuffer.isView(a)?a=h.Buffer.from(a.buffer,a.byteOffset,a.byteLength):a instanceof g||(a instanceof l.fS?c=(a=(0,l.$n)(a)).type.split("=")[1]:a=h.Buffer.from(String(a))));let d=a;h.Buffer.isBuffer(a)?d=g.Readable.from(a):q(a)&&(d=g.Readable.from(a.stream())),this[s]={body:a,stream:d,boundary:c,disturbed:!1,error:null},this.size=b,a instanceof g&&a.on("error",a=>{let b=a instanceof m?a:new n(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[s].error=b})}get body(){return this[s].stream}get bodyUsed(){return this[s].disturbed}async arrayBuffer(){let{buffer:a,byteOffset:b,byteLength:c}=await u(this);return a.slice(b,b+c)}async formData(){let a=this.headers.get("content-type");if(a.startsWith("application/x-www-form-urlencoded")){let a=new l.fS;for(let[b,c]of new URLSearchParams(await this.text()))a.append(b,c);return a}let{toFormData:b}=await c.e(626).then(c.bind(c,21626));return b(this.body,a)}async blob(){let a=this.headers&&this.headers.get("content-type")||this[s].body&&this[s].body.type||"",b=await this.arrayBuffer();return new k.A([b],{type:a})}async json(){return JSON.parse(await this.text())}async text(){let a=await u(this);return new TextDecoder().decode(a)}buffer(){return u(this)}}async function u(a){if(a[s].disturbed)throw TypeError(`body used already for: ${a.url}`);if(a[s].disturbed=!0,a[s].error)throw a[s].error;let{body:b}=a;if(null===b||!(b instanceof g))return h.Buffer.alloc(0);let c=[],d=0;try{for await(let e of b){if(a.size>0&&d+e.length>a.size){let c=new n(`content size at ${a.url} over limit: ${a.size}`,"max-size");throw b.destroy(c),c}d+=e.length,c.push(e)}}catch(b){throw b instanceof m?b:new n(`Invalid response body while trying to fetch ${a.url}: ${b.message}`,"system",b)}if(!0===b.readableEnded||!0===b._readableState.ended)try{if(c.every(a=>"string"==typeof a))return h.Buffer.from(c.join(""));return h.Buffer.concat(c,d)}catch(b){throw new n(`Could not create Buffer from response body for ${a.url}: ${b.message}`,"system",b)}throw new n(`Premature close of server response while trying to fetch ${a.url}`)}t.prototype.buffer=(0,j.deprecate)(t.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(t.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,j.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let v=(a,b)=>{let c,d,{body:e}=a[s];if(a.bodyUsed)throw Error("cannot clone body after it is used");return e instanceof g&&"function"!=typeof e.getBoundary&&(c=new g.PassThrough({highWaterMark:b}),d=new g.PassThrough({highWaterMark:b}),e.pipe(c),e.pipe(d),a[s].stream=c,e=d),e},w=(0,j.deprecate)(a=>a.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),x=(a,b)=>null===a?null:"string"==typeof a?"text/plain;charset=UTF-8":p(a)?"application/x-www-form-urlencoded;charset=UTF-8":q(a)?a.type||null:h.Buffer.isBuffer(a)||j.types.isAnyArrayBuffer(a)||ArrayBuffer.isView(a)?null:a instanceof l.fS?`multipart/form-data; boundary=${b[s].boundary}`:a&&"function"==typeof a.getBoundary?`multipart/form-data;boundary=${w(a)}`:a instanceof g?null:"text/plain;charset=UTF-8",y=async(a,{body:b})=>{null===b?a.end():await r(b,a)},z="function"==typeof d.validateHeaderName?d.validateHeaderName:a=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(a)){let b=TypeError(`Header name must be a valid HTTP token [${a}]`);throw Object.defineProperty(b,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),b}},A="function"==typeof d.validateHeaderValue?d.validateHeaderValue:(a,b)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(b)){let b=TypeError(`Invalid character in header content ["${a}"]`);throw Object.defineProperty(b,"code",{value:"ERR_INVALID_CHAR"}),b}};class B extends URLSearchParams{constructor(a){let b=[];if(a instanceof B)for(const[c,d]of Object.entries(a.raw()))b.push(...d.map(a=>[c,a]));else if(null==a);else if("object"!=typeof a||j.types.isBoxedPrimitive(a))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{const c=a[Symbol.iterator];if(null==c)b.push(...Object.entries(a));else{if("function"!=typeof c)throw TypeError("Header pairs must be iterable");b=[...a].map(a=>{if("object"!=typeof a||j.types.isBoxedPrimitive(a))throw TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(2!==a.length)throw TypeError("Each header pair must be a name/value tuple");return[...a]})}}return super(b=b.length>0?b.map(([a,b])=>(z(a),A(a,String(b)),[String(a).toLowerCase(),String(b)])):void 0),new Proxy(this,{get(a,b,c){switch(b){case"append":case"set":return(c,d)=>(z(c),A(c,String(d)),URLSearchParams.prototype[b].call(a,String(c).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return c=>(z(c),URLSearchParams.prototype[b].call(a,String(c).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,b,c)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(a){let b=this.getAll(a);if(0===b.length)return null;let c=b.join(", ");return/^content-encoding$/i.test(a)&&(c=c.toLowerCase()),c}forEach(a,b){for(let c of this.keys())Reflect.apply(a,b,[this.get(c),c,this])}*values(){for(let a of this.keys())yield this.get(a)}*entries(){for(let a of this.keys())yield[a,this.get(a)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((a,b)=>(a[b]=this.getAll(b),a),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((a,b)=>{let c=this.getAll(b);return"host"===b?a[b]=c[0]:a[b]=c.length>1?c:c[0],a},{})}}Object.defineProperties(B.prototype,["get","entries","forEach","values"].reduce((a,b)=>(a[b]={enumerable:!0},a),{}));let C=new Set([301,302,303,307,308]),D=a=>C.has(a),E=Symbol("Response internals");class F extends t{constructor(a=null,b={}){super(a,b);const c=null!=b.status?b.status:200,d=new B(b.headers);if(null!==a&&!d.has("Content-Type")){const b=x(a,this);b&&d.append("Content-Type",b)}this[E]={type:"default",url:b.url,status:c,statusText:b.statusText||"",headers:d,counter:b.counter,highWaterMark:b.highWaterMark}}get type(){return this[E].type}get url(){return this[E].url||""}get status(){return this[E].status}get ok(){return this[E].status>=200&&this[E].status<300}get redirected(){return this[E].counter>0}get statusText(){return this[E].statusText}get headers(){return this[E].headers}get highWaterMark(){return this[E].highWaterMark}clone(){return new F(v(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(a,b=302){if(!D(b))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new F(null,{headers:{location:new URL(a).toString()},status:b})}static error(){let a=new F(null,{status:0,statusText:""});return a[E].type="error",a}static json(a,b={}){let c=JSON.stringify(a);if(void 0===c)throw TypeError("data is not JSON serializable");let d=new B(b&&b.headers);return d.has("content-type")||d.set("content-type","application/json"),new F(c,{...b,headers:d})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(F.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var G=c(73136),H=c(77030);function I(a,b=!1){return null==a||(a=new URL(a),/^(about|blob|data):$/.test(a.protocol))?"no-referrer":(a.username="",a.password="",a.hash="",b&&(a.pathname="",a.search=""),a)}let J=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function K(a){if(/^about:(blank|srcdoc)$/.test(a)||"data:"===a.protocol||/^(blob|filesystem):$/.test(a.protocol))return!0;if(/^(http|ws)s:$/.test(a.protocol))return!0;let b=a.host.replace(/(^\[)|(]$)/g,""),c=(0,H.isIP)(b);return!!(4===c&&/^127\./.test(b)||6===c&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(b))||!("localhost"===a.host||a.host.endsWith(".localhost"))&&"file:"===a.protocol}let L=Symbol("Request internals"),M=a=>"object"==typeof a&&"object"==typeof a[L],N=(0,j.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class O extends t{constructor(a,b={}){let c;if(M(a)?c=new URL(a.url):(c=new URL(a),a={}),""!==c.username||""!==c.password)throw TypeError(`${c} is an url with embedded credentials.`);let d=b.method||a.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(d)&&(d=d.toUpperCase()),!M(b)&&"data"in b&&N(),(null!=b.body||M(a)&&null!==a.body)&&("GET"===d||"HEAD"===d))throw TypeError("Request with GET/HEAD method cannot have body");const e=b.body?b.body:M(a)&&null!==a.body?v(a):null;super(e,{size:b.size||a.size||0});const f=new B(b.headers||a.headers||{});if(null!==e&&!f.has("Content-Type")){const a=x(e,this);a&&f.set("Content-Type",a)}let g=M(a)?a.signal:null;if("signal"in b&&(g=b.signal),null!=g&&!(a=>"object"==typeof a&&("AbortSignal"===a[o]||"EventTarget"===a[o]))(g))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=null==b.referrer?a.referrer:b.referrer;if(""===h)h="no-referrer";else if(h){const a=new URL(h);h=/^about:(\/\/)?client$/.test(a)?"client":a}else h=void 0;this[L]={method:d,redirect:b.redirect||a.redirect||"follow",headers:f,parsedURL:c,signal:g,referrer:h},this.follow=void 0===b.follow?void 0===a.follow?20:a.follow:b.follow,this.compress=void 0===b.compress?void 0===a.compress||a.compress:b.compress,this.counter=b.counter||a.counter||0,this.agent=b.agent||a.agent,this.highWaterMark=b.highWaterMark||a.highWaterMark||16384,this.insecureHTTPParser=b.insecureHTTPParser||a.insecureHTTPParser||!1,this.referrerPolicy=b.referrerPolicy||a.referrerPolicy||""}get method(){return this[L].method}get url(){return(0,G.format)(this[L].parsedURL)}get headers(){return this[L].headers}get redirect(){return this[L].redirect}get signal(){return this[L].signal}get referrer(){return"no-referrer"===this[L].referrer?"":"client"===this[L].referrer?"about:client":this[L].referrer?this[L].referrer.toString():void 0}get referrerPolicy(){return this[L].referrerPolicy}set referrerPolicy(a){this[L].referrerPolicy=function(a){if(!J.has(a))throw TypeError(`Invalid referrerPolicy: ${a}`);return a}(a)}clone(){return new O(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(O.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});class P extends m{constructor(a,b="aborted"){super(a,b)}}var Q=c(80932);let R=new Set(["data:","http:","https:"]);async function S(a,b){return new Promise((c,j)=>{var k,l;let m,o,p,r,t=new O(a,b),{parsedURL:u,options:w}=(a=>{let{parsedURL:b}=a[L],c=new B(a[L].headers);c.has("Accept")||c.set("Accept","*/*");let d=null;if(null===a.body&&/^(post|put)$/i.test(a.method)&&(d="0"),null!==a.body){let b=(a=>{let{body:b}=a[s];return null===b?0:q(b)?b.size:h.Buffer.isBuffer(b)?b.length:b&&"function"==typeof b.getLengthSync&&b.hasKnownLength&&b.hasKnownLength()?b.getLengthSync():null})(a);"number"!=typeof b||Number.isNaN(b)||(d=String(b))}d&&c.set("Content-Length",d),""===a.referrerPolicy&&(a.referrerPolicy="strict-origin-when-cross-origin"),a.referrer&&"no-referrer"!==a.referrer?a[L].referrer=function(a,{referrerURLCallback:b,referrerOriginCallback:c}={}){if("no-referrer"===a.referrer||""===a.referrerPolicy)return null;let d=a.referrerPolicy;if("about:client"===a.referrer)return"no-referrer";let e=a.referrer,f=I(e),g=I(e,!0);f.toString().length>4096&&(f=g),b&&(f=b(f)),c&&(g=c(g));let h=new URL(a.url);switch(d){case"no-referrer":return"no-referrer";case"origin":return g;case"unsafe-url":return f;case"strict-origin":if(K(f)&&!K(h))return"no-referrer";return g.toString();case"strict-origin-when-cross-origin":if(f.origin===h.origin)return f;if(K(f)&&!K(h))return"no-referrer";return g;case"same-origin":if(f.origin===h.origin)return f;return"no-referrer";case"origin-when-cross-origin":if(f.origin===h.origin)return f;return g;case"no-referrer-when-downgrade":if(K(f)&&!K(h))return"no-referrer";return f;default:throw TypeError(`Invalid referrerPolicy: ${d}`)}}(a):a[L].referrer="no-referrer",a[L].referrer instanceof URL&&c.set("Referer",a.referrer),c.has("User-Agent")||c.set("User-Agent","node-fetch"),a.compress&&!c.has("Accept-Encoding")&&c.set("Accept-Encoding","gzip, deflate, br");let{agent:e}=a;"function"==typeof e&&(e=e(b));let f=(a=>{if(a.search)return a.search;let b=a.href.length-1,c=a.hash||("#"===a.href[b]?"#":"");return"?"===a.href[b-c.length]?"?":""})(b),g={path:b.pathname+f,method:a.method,headers:c[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:a.insecureHTTPParser,agent:e};return{parsedURL:b,options:g}})(t);if(!R.has(u.protocol))throw TypeError(`node-fetch cannot load ${a}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){let a=(0,i.A)(t.url);c(new F(a,{headers:{"Content-Type":a.typeFull}}));return}let x=("https:"===u.protocol?e:d).request,{signal:C}=t,E=null,G=()=>{let a=new P("The operation was aborted.");j(a),t.body&&t.body instanceof g.Readable&&t.body.destroy(a),E&&E.body&&E.body.emit("error",a)};if(C&&C.aborted)return void G();let H=()=>{G(),N()},M=x(u.toString(),w);C&&C.addEventListener("abort",H);let N=()=>{M.abort(),C&&C.removeEventListener("abort",H)};M.on("error",a=>{j(new n(`request to ${t.url} failed, reason: ${a.message}`,"system",a)),N()}),k=M,l=a=>{E&&E.body&&E.body.destroy(a)},o=h.Buffer.from("0\r\n\r\n"),p=!1,r=!1,k.on("response",a=>{let{headers:b}=a;p="chunked"===b["transfer-encoding"]&&!b["content-length"]}),k.on("socket",a=>{let b=()=>{if(p&&!r){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",l(a)}},c=a=>{(r=0===h.Buffer.compare(a.slice(-5),o))||!m||(r=0===h.Buffer.compare(m.slice(-3),o.slice(0,3))&&0===h.Buffer.compare(a.slice(-2),o.slice(3))),m=a};a.prependListener("close",b),a.on("data",c),k.on("close",()=>{a.removeListener("close",b),a.removeListener("data",c)})}),process.version<"v14"&&M.on("socket",a=>{let b;a.prependListener("end",()=>{b=a._eventsCount}),a.prependListener("close",c=>{if(E&&b<a._eventsCount&&!c){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",E.body.emit("error",a)}})}),M.on("response",a=>{M.setTimeout(0);let d=function(a=[]){return new B(a.reduce((a,b,c,d)=>(c%2==0&&a.push(d.slice(c,c+2)),a),[]).filter(([a,b])=>{try{return z(a),A(a,String(b)),!0}catch{return!1}}))}(a.rawHeaders);if(D(a.statusCode)){let f=d.get("Location"),i=null;try{i=null===f?null:new URL(f,t.url)}catch{if("manual"!==t.redirect){j(new n(`uri requested responds with an invalid redirect URL: ${f}`,"invalid-redirect")),N();return}}switch(t.redirect){case"error":j(new n(`uri requested responds with a redirect, redirect mode is set to error: ${t.url}`,"no-redirect")),N();return;case"manual":break;case"follow":{var e,h;let f,k;if(null===i)break;if(t.counter>=t.follow){j(new n(`maximum redirect reached at: ${t.url}`,"max-redirect")),N();return}let l={headers:new B(t.headers),follow:t.follow,counter:t.counter+1,agent:t.agent,compress:t.compress,method:t.method,body:v(t),signal:t.signal,size:t.size,referrer:t.referrer,referrerPolicy:t.referrerPolicy};if(e=t.url,f=new URL(i).hostname,!(f===(k=new URL(e).hostname)||f.endsWith(`.${k}`))||(h=t.url,new URL(i).protocol!==new URL(h).protocol))for(let a of["authorization","www-authenticate","cookie","cookie2"])l.headers.delete(a);if(303!==a.statusCode&&t.body&&b.body instanceof g.Readable){j(new n("Cannot follow redirect with body being a readable stream","unsupported-redirect")),N();return}(303===a.statusCode||(301===a.statusCode||302===a.statusCode)&&"POST"===t.method)&&(l.method="GET",l.body=void 0,l.headers.delete("content-length"));let m=function(a){let b=(a.get("referrer-policy")||"").split(/[,\s]+/),c="";for(let a of b)a&&J.has(a)&&(c=a);return c}(d);m&&(l.referrerPolicy=m),c(S(new O(i,l))),N();return}default:return j(TypeError(`Redirect option '${t.redirect}' is not a valid value of RequestRedirect`))}}C&&a.once("end",()=>{C.removeEventListener("abort",H)});let i=(0,g.pipeline)(a,new g.PassThrough,a=>{a&&j(a)});process.version<"v12.10"&&a.on("aborted",H);let k={url:t.url,status:a.statusCode,statusText:a.statusMessage,headers:d,size:t.size,counter:t.counter,highWaterMark:t.highWaterMark},l=d.get("Content-Encoding");if(!t.compress||"HEAD"===t.method||null===l||204===a.statusCode||304===a.statusCode)return void c(E=new F(i,k));let m={flush:f.Z_SYNC_FLUSH,finishFlush:f.Z_SYNC_FLUSH};if("gzip"===l||"x-gzip"===l)return void c(E=new F(i=(0,g.pipeline)(i,f.createGunzip(m),a=>{a&&j(a)}),k));if("deflate"===l||"x-deflate"===l){let b=(0,g.pipeline)(a,new g.PassThrough,a=>{a&&j(a)});b.once("data",a=>{c(E=new F(i=(15&a[0])==8?(0,g.pipeline)(i,f.createInflate(),a=>{a&&j(a)}):(0,g.pipeline)(i,f.createInflateRaw(),a=>{a&&j(a)}),k))}),b.once("end",()=>{E||c(E=new F(i,k))});return}"br"===l?c(E=new F(i=(0,g.pipeline)(i,f.createBrotliDecompress(),a=>{a&&j(a)}),k)):c(E=new F(i,k))}),y(M,t).catch(j)})}}};